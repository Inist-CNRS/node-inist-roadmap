#!/usr/bin/env node
const prog = require('caporal');
const getBoard = require('../lib/trello-get-roadmap.js');

prog
  .version('1.0.0')
  .description('Get cards from Raodmap Board')
  .argument('<url>', 'Trello URL')
  .action((args, options, logger) => {
    getBoard(args.url).then((values) => {
      process.stdout.write(JSON.stringify(values));
    }).catch((error) => {
      logger.error(error);
    });
  });

prog.parse(process.argv);
